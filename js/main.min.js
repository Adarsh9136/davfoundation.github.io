function numberWithCommas(e){var t=(""+e).split(".")
return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function increaseWithAnimation(e){function t(){n+=r,n>=e&&(n=e,clearInterval(s)),a.text(numberWithCommas(Math.floor(n)))}var a=$("#eth-raised"),n=+a.text().replace(/,/g,"")
if(n!==e){var o=63123,i=Math.floor(e/o*100),r=(e-n)/(ANIMATION_DURATION/PULSE_DURATION)
$(".progress-bar").css("width","calc("+i+" + 25px)")
var s=setInterval(t,PULSE_DURATION)}}function handleJoinTelegram(){$(function(){var e=getParameterByName("clkid")
$("#join-telegram").on("click",function(){var t="https://sc2s.startappnetwork.com/trackpostinstall/davnetwork?a=click_telegram&d="+e
$.ajax({url:t,type:"GET",success:function(e,t){console.log(e,t)},error:function(e,t,a){console.log(t,a)}})})})}function addCommas(e){e+="",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:""
for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2")
return x1+x2}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&")
var a=RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=a.exec(t)
return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function beforeSubmitKycRegistration(){function e(){var e=$(".required.email").eq(2),t=e.val()
console.log(t)
var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
return a.test(t)?(e.removeClass("invalid"),!0):(e.addClass("invalid"),!1)}function t(){ga("send","event","Registration","click","email_Registration_click")}return e()?(t(),!0):!1}function setDifferentCtaForAdwordsUsers(){if(isAdwordsRedirect()){$floatingButton.find("span").html("REGISTER FOR<br>WHITELIST")
var e=$("#mc-embedded-subscribe-form").attr("action")
$floatingButton.attr("href",e),$floatingButton.attr("onclick",null).off("click"),$floatingButton.click(sendAnaliticsEvent),changeFloatingButtonIcon("fa-angle-double-right")}}function isAdwordsRedirect(){return window.location.search.includes("gclid")}function changeFloatingButtonIcon(e){$floatingButton.find("i").removeClass("fa-telegram").addClass(e)}function sendAnaliticsEvent(){ga("send","event","Registration-Bottom-Click","click","floating_Registration_click")}var ANIMATION_DURATION=1e3,PULSE_DURATION=40
$(document).ready(function(){function e(e){if(e=e.trim(),s(e))return!0
var a=$("#error-msg")
return t(a,"Please enter a valid email address."),!1}function t(e,t){e.show(),e.animateCss("shake"),e.text(t)}function a(){c=$(this).scrollTop(),c>u.top?($(".navbar-fixed-top").addClass("user-scroll"),$(".index3").addClass("makeFix")):($(".navbar-fixed-top").removeClass("user-scroll"),$(".index3").removeClass("makeFix"))}function n(){var e=$("#home"),t=$(window).width(),a=$(window).height(),n=e.find(".as-seen-on-hero").height(),o=e.find(".navbar-header").height()
$(".hero .hero-inner").height(a-o-n-(600>=t?32:20)),$(".hero").css("padding-top",navbar+"px")}function o(e){$.get("https://www.googleapis.com/youtube/v3/playlistItems",{part:"snippet",maxResults:1,playlistId:e,key:"AIzaSyDFsWKhs1WKWskhk6DErKtNCy-TR57EPbM"},function(e){var t
$.each(e.items,function(e,a){videoId=a.snippet.resourceId.videoId,t='<iframe width="560" height="315" src="https://www.youtube.com/embed/'+videoId+'?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>',$("#weekly-video").append(t)})})}function i(e){var t=document.cookie,a=t.indexOf(" "+e+"=")
if(-1==a&&(a=t.indexOf(e+"=")),-1==a)t=null
else{a=t.indexOf("=",a)+1
var n=t.indexOf(";",a);-1==n&&(n=t.length),t=unescape(t.substring(a,n))}return t}function r(e,t,a){var n=new Date
n.setDate(n.getDate()+a)
var o=escape(t)+(null==a?"":"; expires="+n.toUTCString())
document.cookie=e+"="+o}function s(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
return t.test(e)}$(window).width()<1024&&$(".telegram-bottom").addClass("telegram-loaded")
var l=$(".email-input"),d=($("#submit-email"),$(".email-form"))
d.submit(function(t){e(l.val())||t.preventDefault()})
var c=0,m=$("#startchange"),u=m.offset()
a(),m.length&&$(document).scroll(a),$("#transaction_id").val(getParameterByName("transaction_id")),$("#referrer").val(window.localStorage.getItem("dav-referrer"))
var f=navigator.userAgent,h=/iPad|iPhone|iPod/.test(f),v=/OS 11_0|OS 11_1|OS 11_2/.test(f)
h&&v&&$("body").addClass("iosBugFixCaret"),$("ul.nav li.dropdown").hover(function(){$(this).addClass("open")},function(){$(this).removeClass("open")}),$(".not-from-us a.viewTokenInfo").on("click",function(e){e.preventDefault(),$(".blur-funds").removeClass("add-blur"),$(".not-from-us").addClass("hide")}),n(),$(window).on("resize",n),$(".team-modal,.alliance-modal-small").on("shown.bs.modal",function(e){var t=$(window).height(),a=$(this).find(".modal-content").height(),n=(t-a)/2-30
$(".modal-dialog").css("margin-top",n+"px")})
var p=window.location.href
$("#modalThankYou,#modalThankYouKYC,#modalKYCStatus").on("hidden.bs.modal",function(e){document.location.href="/"}),-1!=p.indexOf("?thank=you")&&$("#modalThankYou").modal("show"),-1!=p.indexOf("?kyc=thankyou")&&($("#modalThankYouKYC").modal("show"),ga("send","event","KYC","completed","KYC Process Completed")),-1!=p.indexOf("?kyc=status")&&$("#modalKYCStatus").modal("show")
var g=window.location.hash
"#tokensale"==g&&$(".fundraising-goals").addClass("offsetMe"),$(".nav").find("a.scroll-link").click(function(e){e.preventDefault(),$(".navbar-collapse").removeClass("in"),$(".navbar-toggle").addClass("collapsed")
var t=$(".navbar").height(),a=$(this).attr("href")
$("html, body").animate({scrollTop:$(a).offset().top-t},700)}),$("a[href=#dav-team]").click(function(e){e.preventDefault()
var t=$(".navbar").height(),a="#team"
$("html, body").animate({scrollTop:$(a).offset().top-t},700)}),$("a[href=#tokensale]").click(function(e){e.preventDefault()
var t=$(".navbar").height(),a="#tokensale"
$("html, body").animate({scrollTop:$(a).offset().top-t},700)}),$("a[href=#team]").click(function(e){e.preventDefault()
var t=$(".navbar").height(),a="#team"
$("html, body").animate({scrollTop:$(a).offset().top-t},700)})
var b="UCPuAOygDwCiLOdLosiQJJ1w"
$.get("https://www.googleapis.com/youtube/v3/channels",{part:"contentDetails",id:b,key:"AIzaSyDFsWKhs1WKWskhk6DErKtNCy-TR57EPbM"},function(e){$.each(e.items,function(e,t){pid=t.contentDetails.relatedPlaylists.uploads,pid="PLpqJF_iMOExfLwaAvQp6E__DgzfkBmep3",o(pid)})}),$("#contactForm").validate({rules:{Name:{required:!0,minlength:3},Company:{required:!0,minlength:3},Email:{required:!0,email:!0}},messages:{Name:"Please specify your name",Company:"Please specify your company",Email:{required:"Invalid email",email:"Invalid email"}},submitHandler:function(e){return $.ajax({type:"POST",url:"https://formspree.io/alick@dav.network",data:$(e).serialize(),dataType:"json",success:function(){$("#modalMessage").modal("hide"),$(e)[0].reset(),$("#modalThankYouAlliance").modal("show")}}),!1}}),$("a.show-more").click(function(e){e.preventDefault(),$(".hidden-press").fadeToggle()
var t=$(this).find("span")
"more"==t.text()?t.text("less"):t.text("more")}),$("a.show-articles").click(function(e){e.preventDefault(),$(".hidden-articles").fadeToggle()
var t=$(this).find("span")
"more"==t.text()?t.text("less"):t.text("more")}),$("#alert-announcement").on("closed.bs.alert",function(){return r("dav-utility-token",!0,14),$(".telegram-bottom").removeClass("extra-space"),!1}),"true"===i("dav-utility-token")&&($("#alert-announcement").hide(),$(".telegram-bottom").removeClass("extra-space")),$("#mc-embedded-subscribe-form").on("submit",function(){ga("send","event","Registration","started","Register")})}),$(function(){$("body").on("hidden.bs.modal",function(e){var t=$(e.target).find("iframe")
t.each(function(e,t){$(t).attr("src",$(t).attr("src"))})})})
var vidShowAndTell=document.querySelector("video"),scrollAction=function(){window.removeEventListener("scroll",scrollAction),vidShowAndTell&&vidShowAndTell.play()}
window.addEventListener("scroll",scrollAction)
var announcementTrigger=document.querySelector(".video-home"),scrollAnouncement=function(){window.removeEventListener("scroll",scrollAnouncement),$("#alert-announcement").removeClass("hide"),$("#alert-announcement").is(":visible")&&$(".telegram-bottom").addClass("extra-space")}
window.addEventListener("scroll",scrollAnouncement)
var AVATAR_SIZE=64
$(function(){$.getJSON("contributors.json",function(e){var t=[],a=[]
$.each(e,function(e,a){t.push("<li><a href='#contributor-"+e+"' data-toggle='modal' data-target='#contributor-"+e+"'><img src='"+a.avatar+"&s="+AVATAR_SIZE+"'></a></li>")}),$.each(e,function(e,t){for(var n="",o=0;o<t.repos.length;o++)n+=o!=t.repos.length-1?"<a href='https://github.com/DAVFoundation/"+t.repos[o]+"' class='repo-contrib' target='_blank'>"+t.repos[o]+"</a>,":"<a href='https://github.com/DAVFoundation/"+t.repos[o]+"' class='repo-contrib' target='_blank'>"+t.repos[o]+"</a>"
null==t.name&&(t.name=t.user),null==t.bio?t.bio="":t.bio="&ldquo;"+t.bio+"&rdquo;",a.push("<div class='modal team-modal' id='contributor-"+e+"' tabindex='-1' role='dialog' aria-labelledby='myModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-body'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button><div class='row'><div class='col-sm-4'><br><br><img src='"+t.avatar+"&s="+AVATAR_SIZE+"' width='100%'></div><div class='col-sm-8'><h2>"+t.name+"</h2><h5>Open Source Contributor</h5><p><i>"+t.bio+"</i></p><p>DAV repos that the user contributed to: "+n+"</p><p>Total number of contributions to DAV: <b>"+t.contrib_count+"</b></p><a href='https://github.com/"+t.user+"' target='_blank'><img src='img/icons/github-footer.png' width='25'></a></div></div></div></div></div></div>")}),$("<ul/>",{"class":"contributors-list",html:t.join("")}).appendTo(".contributors"),$("<div/>",{"class":"contributors-modal",html:a.join("")}).appendTo("body"),$(".team-modal").on("shown.bs.modal",function(e){var t=$(window).height(),a=$(this).find(".modal-content").height(),n=(t-a)/2-30
0>n&&(n=0),$(".modal-dialog").css("margin-top",n+"px")})})}),$.fn.extend({animateCss:function(e,t){var a=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"}
for(var a in t)if(void 0!==e.style[a])return t[a]}(document.createElement("div"))
return this.addClass("animated "+e).one(a,function(){$(this).removeClass("animated "+e),"function"==typeof t&&t()}),this}})
var $floatingButton=$("#floating-button")
