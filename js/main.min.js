function numberWithCommas(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var ANIMATION_DURATION=1e3,PULSE_DURATION=40;function increaseWithAnimation(e){var t=$("#eth-raised"),o=Number(t.text().replace(/,/g,""));if(o!==e){var n=Math.floor(e/63123*100),a=(e-o)/(ANIMATION_DURATION/PULSE_DURATION);$(".progress-bar").css("width","calc("+n+" + 25px)");var i=setInterval(function(){(o+=a)>=e&&(o=e,clearInterval(i));t.text(numberWithCommas(Math.floor(o)))},PULSE_DURATION)}}function handleJoinTelegram(){$(function(){var t=getParameterByName("clkid");$("#join-telegram").on("click",function(){var e="https://sc2s.startappnetwork.com/trackpostinstall/davnetwork?a=click_telegram&d="+t;$.ajax({url:e,type:"GET",success:function(e,t){console.log(e,t)},error:function(e,t,o){console.log(t,o)}})})})}$(document).ready(function(){$(window).width()<1024&&$(".telegram-bottom").addClass("telegram-loaded");var t=$(".email-input");$("#submit-email");$(".email-form").submit(function(e){!function(e){if(function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(e=e.trim()))return!0;return function(e,t){e.show(),e.animateCss("shake"),e.text(t)}($("#error-msg"),"Please enter a valid email address."),!1}(t.val())&&e.preventDefault()});var e=$("#startchange"),o=e.offset();function n(){$(this).scrollTop()>o.top?($(".navbar-fixed-top").addClass("user-scroll"),$(".index3").addClass("makeFix")):($(".navbar-fixed-top").removeClass("user-scroll"),$(".index3").removeClass("makeFix"))}n(),e.length&&$(document).scroll(n),$("#transaction_id").val(getParameterByName("transaction_id")),$("#referrer").val(window.localStorage.getItem("dav-referrer"));var a=navigator.userAgent,i=/iPad|iPhone|iPod/.test(a),r=/OS 11_0|OS 11_1|OS 11_2/.test(a);function s(){var e=$("#home"),t=$(window).width(),o=$(window).height(),n=e.find(".as-seen-on-hero").height(),a=e.find(".navbar-header").height();$(".hero .hero-inner").height(o-a-n-(t<=600?32:20)),$(".hero").css("padding-top",navbar+"px")}i&&r&&$("body").addClass("iosBugFixCaret"),$("ul.nav li.dropdown").hover(function(){$(this).addClass("open")},function(){$(this).removeClass("open")}),$(".not-from-us a.viewTokenInfo").on("click",function(e){e.preventDefault(),$(".blur-funds").removeClass("add-blur"),$(".not-from-us").addClass("hide")}),s(),$(window).on("resize",s),$(".team-modal,.alliance-modal-small").on("shown.bs.modal",function(e){var t=($(window).height()-$(this).find(".modal-content").height())/2-30;$(".modal-dialog").css("margin-top",t+"px")});var l=window.location.href;$("#modalThankYou,#modalThankYouKYC,#modalKYCStatus").on("hidden.bs.modal",function(e){document.location.href="/"}),-1!=l.indexOf("?thank=you")&&$("#modalThankYou").modal("show"),-1!=l.indexOf("?kyc=thankyou")&&($("#modalThankYouKYC").modal("show"),ga("send","event","KYC","completed","KYC Process Completed")),-1!=l.indexOf("?kyc=status")&&$("#modalKYCStatus").modal("show"),"#tokensale"==window.location.hash&&$(".fundraising-goals").addClass("offsetMe"),$("a.scroll-link").click(function(e){e.preventDefault(),$(".navbar-collapse").removeClass("in"),$(".navbar-toggle").addClass("collapsed");var t=$(".navbar").height(),o=$(this).attr("href");$("html, body").animate({scrollTop:$(o).offset().top-t},700)}),$("a[href=#dav-team]").click(function(e){e.preventDefault();var t=$(".navbar").height();$("html, body").animate({scrollTop:$("#team").offset().top-t},700)}),$("a[href=#tokensale]").click(function(e){e.preventDefault();var t=$(".navbar").height();$("html, body").animate({scrollTop:$("#tokensale").offset().top-t},700)}),$("a[href=#team]").click(function(e){e.preventDefault();var t=$(".navbar").height();$("html, body").animate({scrollTop:$("#team").offset().top-t},700)});$.get("https://www.googleapis.com/youtube/v3/channels",{part:"contentDetails",id:"UCPuAOygDwCiLOdLosiQJJ1w",key:"AIzaSyDFsWKhs1WKWskhk6DErKtNCy-TR57EPbM"},function(e){$.each(e.items,function(e,t){pid=t.contentDetails.relatedPlaylists.uploads,pid="PLpqJF_iMOExfLwaAvQp6E__DgzfkBmep3",function(e){$.get("https://www.googleapis.com/youtube/v3/playlistItems",{part:"snippet",maxResults:1,playlistId:e,key:"AIzaSyDFsWKhs1WKWskhk6DErKtNCy-TR57EPbM"},function(e){var o;$.each(e.items,function(e,t){videoId=t.snippet.resourceId.videoId,o='<iframe width="560" height="315" src="https://www.youtube.com/embed/'+videoId+'?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>',$("#weekly-video").append(o)})})}(pid)})}),$("#contactForm").validate({rules:{Name:{required:!0,minlength:3},Company:{required:!0,minlength:3},Email:{required:!0,email:!0}},messages:{Name:"Please specify your name",Company:"Please specify your company",Email:{required:"Invalid email",email:"Invalid email"}},submitHandler:function(e){return $.ajax({type:"POST",url:"https://formspree.io/alick@dav.network",data:$(e).serialize(),dataType:"json",success:function(){$("#modalMessage").modal("hide"),$(e)[0].reset(),$("#modalThankYouAlliance").modal("show")}}),!1}}),$("a.show-more").click(function(e){e.preventDefault(),$(".hidden-press").fadeToggle();var t=$(this).find("span");"more"==t.text()?t.text("less"):t.text("more")}),$("a.show-articles").click(function(e){e.preventDefault(),$(".hidden-articles").fadeToggle();var t=$(this).find("span");"more"==t.text()?t.text("less"):t.text("more")}),$("#alert-announcement").on("closed.bs.alert",function(){return function(e,t,o){var n=new Date;n.setDate(n.getDate()+o);var a=escape(t)+(null==o?"":"; expires="+n.toUTCString());document.cookie=e+"="+a}("dav-utility-token",!0,14),$(".telegram-bottom").removeClass("extra-space"),!1}),"true"===function(e){var t=document.cookie,o=t.indexOf(" "+e+"=");if(-1==o&&(o=t.indexOf(e+"=")),-1==o)t=null;else{o=t.indexOf("=",o)+1;var n=t.indexOf(";",o);-1==n&&(n=t.length),t=unescape(t.substring(o,n))}return t}("dav-utility-token")&&($("#alert-announcement").hide(),$(".telegram-bottom").removeClass("extra-space")),$("#mc-embedded-subscribe-form").on("submit",function(){ga("send","event","Registration","started","Register")})}),$(function(){$("body").on("hidden.bs.modal",function(e){$(e.target).find("iframe").each(function(e,t){$(t).attr("src",$(t).attr("src"))})})});var vidShowAndTell=document.querySelector("video"),scrollAction=function(){window.removeEventListener("scroll",scrollAction),vidShowAndTell&&vidShowAndTell.play()};window.addEventListener("scroll",scrollAction);var announcementTrigger=document.querySelector(".video-home"),scrollAnouncement=function(){window.removeEventListener("scroll",scrollAnouncement),$("#alert-announcement").removeClass("hide"),$("#alert-announcement").is(":visible")&&$(".telegram-bottom").addClass("extra-space")};function addCommas(e){x=(e+="").split("."),x1=x[0],x2=1<x.length?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2}window.addEventListener("scroll",scrollAnouncement);var preloadSections=document.querySelectorAll("#contributors"),config={rootMargin:"1100px 0px",threshold:.01},observer=new IntersectionObserver(onIntersection,config);function onIntersection(e){e.forEach(function(e){0<e.intersectionRatio&&(observer.unobserve(e.target),getContributors())})}preloadSections.forEach(function(e){observer.observe(e)});var AVATAR_SIZE=64,AVATAR_SIZE_MODAL=256;function getContributors(){$.getJSON("contributors.json",function(e){var o=[],a=[];$.each(e,function(e,t){o.push("<li><a href='#contributor-"+e+"' data-toggle='modal' data-target='#contributor-"+e+"'><img src='"+t.avatar+"&s="+AVATAR_SIZE+"'></a></li>")}),$.each(e,function(e,t){for(var o="",n=0;n<t.repos.length;n++)n!=t.repos.length-1?o+="<a href='https://github.com/DAVFoundation/"+t.repos[n]+"' class='repo-contrib' target='_blank'>"+t.repos[n]+"</a>,":o+="<a href='https://github.com/DAVFoundation/"+t.repos[n]+"' class='repo-contrib' target='_blank'>"+t.repos[n]+"</a>";null==t.name&&(t.name=t.user),null==t.bio?t.bio="":t.bio="&ldquo;"+t.bio+"&rdquo;",a.push("<div class='modal team-modal' id='contributor-"+e+"' tabindex='-1' role='dialog' aria-labelledby='myModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-body'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button><div class='row'><div class='col-sm-4'><br><br><img src='"+t.avatar+"&s="+AVATAR_SIZE_MODAL+"' width='100%'></div><div class='col-sm-8'><h2>"+t.name+"</h2><h5>Open Source Contributor</h5><p><i>"+t.bio+"</i></p><p>DAV repos that the user contributed to: "+o+"</p><p>Total number of contributions to DAV: <b>"+t.contrib_count+"</b></p><a href='https://github.com/"+t.user+"' target='_blank'><img src='img/icons/github-footer.png' width='25'></a></div></div></div></div></div></div>")}),$("<ul/>",{class:"contributors-list",html:o.join("")}).appendTo(".contributors"),$("<div/>",{class:"contributors-modal",html:a.join("")}).appendTo("body"),$(".team-modal").on("shown.bs.modal",function(e){var t=($(window).height()-$(this).find(".modal-content").height())/2-30;t<0&&(t=0),$(".modal-dialog").css("margin-top",t+"px")})})}function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function beforeSubmitKycRegistration(){return e=$(".required.email").eq(2),t=e.val(),console.log(t),!(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?(e.removeClass("invalid"),0):(e.addClass("invalid"),1))&&(ga("send","event","Registration","click","email_Registration_click"),!0);var e,t}$.fn.extend({animateCss:function(e,t){var o=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var o in t)if(void 0!==e.style[o])return t[o]}(document.createElement("div"));return this.addClass("animated "+e).one(o,function(){$(this).removeClass("animated "+e),"function"==typeof t&&t()}),this}});var $floatingButton=$("#floating-button");function setDifferentCtaForAdwordsUsers(){if(isAdwordsRedirect()){$floatingButton.find("span").html("REGISTER FOR<br>WHITELIST");var e=$("#mc-embedded-subscribe-form").attr("action");$floatingButton.attr("href",e),$floatingButton.attr("onclick",null).off("click"),$floatingButton.click(sendAnaliticsEvent),changeFloatingButtonIcon("fa-angle-double-right")}}function isAdwordsRedirect(){return window.location.search.includes("gclid")}function changeFloatingButtonIcon(e){$floatingButton.find("i").removeClass("fa-telegram").addClass(e)}function sendAnaliticsEvent(){ga("send","event","Registration-Bottom-Click","click","floating_Registration_click")}